<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>Ai slop incredible (+ stars)</title>
  <link rel="canonical" href="https://codepen.io/VicDRose/pen/PwzrEao">
  <style>
    body {
      margin:0;
      font-family:monospace;
      overflow:hidden;
      transition: color 1s linear;
    }

    #stars {
      position:fixed;
      width:100%;
      height:100%;
      pointer-events:none;
      z-index:0;
      transition: opacity 1s linear;
    }

    .star {
      position:absolute;
      width:2px;
      height:2px;
      background:white;
      opacity:0.8;
    }

    .container {
      position:relative;
      z-index:2;
      padding:20px;
      transition: background 1s linear;
    }

    .systems { display:flex; gap:20px; }

    .panel {
      flex:1;
      padding:15px;
      border:1px solid currentColor;
      background:rgba(255,255,255,0.05);
      backdrop-filter:blur(4px);
    }

    button {
      display:block;
      margin:6px 0;
      padding:6px;
      background:transparent;
      border:1px solid currentColor;
      color:inherit;
      cursor:pointer;
    }

    button:disabled { opacity:0.3; cursor:not-allowed; }

    .meter { height:10px; background:#333; margin-bottom:6px; }
    .fill { height:100%; }
    #energyFill { background:#00ff88; }
    #vehicleFill { background:#00ffff; }
    #wealthFill { background:#ffaa00; }

    .dim { opacity:0.4; }
  </style>
</head>

<body>

<div id="stars"></div>

<div class="container" id="game">

<h2>Life Engine</h2>
<div>Day: <span id="day">1</span> | Time: <span id="time">8</span>:00</div>

Energy
<div class="meter"><div id="energyFill" class="fill"></div></div>
Wealth
<div class="meter"><div id="wealthFill" class="fill"></div></div>
Vehicle
<div class="meter"><div id="vehicleFill" class="fill"></div></div>

<br>

<div class="systems">

<div class="panel">
<h3>Body Engine</h3>
<button onclick="kettlebell()">Kettlebell Flow (Warm-Up)</button>
<button onclick="burpeython()">Burpeython ðŸ”¥</button>
<button onclick="reverseTreadmill()">Reverse Treadmill</button>
<button onclick="meditate()">Meditate</button>
<button onclick="caffeine()">Drink Caffeine</button>
<button onclick="sleep()">Sleep</button>
</div>

<div class="panel">
<h3>Creative Engine</h3>
<button onclick="voiceCode()">Voice Code with AI</button>
<button onclick="creativeWork()">Astro Beats</button>
<button onclick="freestyle()">Freestyle King</button>
<button onclick="gamePlay()">Play Game</button>
</div>

<div class="panel">
<h3>Asset Leverage</h3>
<button onclick="uber()">Uber Airport</button>
<button onclick="doordash()">DoorDash Run</button>
<button onclick="travelAsia()">Travel to Asia</button>
<button onclick="travelCity()">Travel to New City</button>
<button onclick="repairVehicle()">Maintain Vehicle</button>
</div>

</div>

<div id="log"></div>
</div>

<script>
let energy=100, wealth=50, vehicle=100, fitness=1, creativity=1, day=1, time=8, caffeineCrash=false;
const kettlebells=["Halo","Swings","Goblet Squats","Clean & Press","Figure 8","High Pulls"];

// --- Time States ---
const timeStates=[
  {name:"night", start:20, end:5, colors:["#000000","#000000","#000000"], font:"#fff"},
  {name:"sunrise", start:5, end:7, colors:["#0b0b3d","#4b3f7c","#fa8072"], font:"#ccc"},
  {name:"day", start:7, end:18, colors:["#87ceeb","#b0e0e6","#ffffff"], font:"#000"},
  {name:"sunset", start:18, end:20, colors:["#000000","#4b3f7c","#ff8c00"], font:"#333"},
];

let currentState=null;

// --- Utility ---
function lerpNumber(a,b,t){ return a + (b-a)*t; }
function lerpColor(a,b,t){
  const ah=parseInt(a.slice(1),16), bh=parseInt(b.slice(1),16),
        ar=ah>>16, ag=(ah>>8)&0xff, ab=ah&0xff,
        br=bh>>16, bg=(bh>>8)&0xff, bb=bh&0xff,
        rr=Math.round(ar+(br-ar)*t),
        rg=Math.round(ag+(bg-ag)*t),
        rb=Math.round(ab+(bb-ab)*t);
  return `rgb(${rr},${rg},${rb})`;
}

// --- UI Updates ---
function updateUI(){
  document.getElementById("energyFill").style.width=energy+"%";
  document.getElementById("wealthFill").style.width=Math.min(wealth,100)+"%";
  document.getElementById("vehicleFill").style.width=vehicle+"%";
  document.getElementById("day").innerText=day;
  document.getElementById("time").innerText=time;
  updateTimeState();
  checkLocks();
}

function log(msg){ document.getElementById("log").innerHTML="<p>"+msg+"</p>"; }

function advanceTime(h=1){ 
  time+=h;
  while(time>=24){ time-=24; day++; }
  if(caffeineCrash && Math.random()<0.4){ energy-=10; caffeineCrash=false; log("Caffeine crash hit."); }
  updateTimeState();
}

function spendEnergy(a){ energy=Math.max(0,energy-a); }
function gainEnergy(a){ energy=Math.min(100,energy+a); }

// --- Body Engine ---
function kettlebell(){ let move=kettlebells[Math.floor(Math.random()*kettlebells.length)]; spendEnergy(15); fitness+=0.2; advanceTime(1); log("Kettlebell: "+move); updateUI(); }
function burpeython(){ spendEnergy(25); fitness+=0.5; advanceTime(2); log("Burpeython ðŸ”¥ complete"); updateUI(); }
function reverseTreadmill(){ spendEnergy(10); advanceTime(1); log("Reverse treadmill cardio"); updateUI(); }
function meditate(){ gainEnergy(15); advanceTime(1); log("Meditated"); updateUI(); }
function caffeine(){ gainEnergy(20); caffeineCrash=true; advanceTime(1); log("Caffeine boost"); updateUI(); }
function sleep(){ energy=100; advanceTime(8); log("Slept"); updateUI(); }

// --- Creative Engine ---
function voiceCode(){ spendEnergy(18); creativity+=0.4; wealth+=6*creativity; advanceTime(2); log("Voice coding with AI"); updateUI(); }
function creativeWork(){ spendEnergy(18); creativity+=0.3; wealth+=4*creativity; advanceTime(2); log("Astro Beats session"); updateUI(); }
function freestyle(){ spendEnergy(20); creativity+=0.4; wealth+=5*creativity; advanceTime(2); log("Freestyle networking"); updateUI(); }
function gamePlay(){ gainEnergy(10); advanceTime(1); log("Played game"); updateUI(); }

// --- Asset Leverage ---
function uber(){ if(vehicle<=0) return; spendEnergy(20); vehicle-=0.3; wealth+=6*fitness*(vehicle/100); advanceTime(2); log("Uber shift complete"); updateUI(); }
function doordash(){ if(vehicle<=0) return; spendEnergy(25); vehicle-=0.5; wealth+=7*fitness*(vehicle/100); advanceTime(2); log("DoorDash run complete"); updateUI(); }
function travelAsia(){ if(wealth<30) return log("Not enough wealth to travel."); wealth-=30; gainEnergy(20); advanceTime(12); log("Traveled to Asia ðŸŒ"); updateUI(); }
function travelCity(){ if(wealth<15) return log("Not enough wealth to travel."); wealth-=15; gainEnergy(10); advanceTime(6); log("Traveled to new city ðŸ™"); updateUI(); }
function repairVehicle(){ vehicle=Math.min(100,vehicle+5); spendEnergy(5); advanceTime(1); log("Vehicle maintained"); updateUI(); }

function checkLocks(){ 
  document.querySelectorAll("button").forEach(btn=>btn.disabled=false); 
  if(energy<=0){ 
    document.querySelectorAll("button").forEach(btn=>{ if(btn.innerText!=="Sleep") btn.disabled=true; }); 
    document.getElementById("game").classList.add("dim"); 
  } else { document.getElementById("game").classList.remove("dim"); } 
}

// --- Stars Initialization ---
const stars=document.getElementById("stars");
if(stars.childElementCount===0){
  for(let i=0;i<150;i++){
    const s=document.createElement("div");
    s.className="star";
    s.style.left=Math.random()*100+"%";
    s.style.top=Math.random()*100+"%";
    stars.appendChild(s);
  }
}

// --- Time State Detection ---
function getState(hour){
  for(let s of timeStates){
    if(s.start < s.end){
      if(hour>=s.start && hour<s.end) return s;
    } else { // overnight
      if(hour>=s.start || hour<s.end) return s;
    }
  }
  return timeStates[0];
}

// --- Star Opacity by Time ---
function updateStarOpacityByTime(hour) {
  let opacity = 0;
  if (hour >= 20 || hour < 5) {        // Night
    opacity = 1;
  } else if ((hour >= 18 && hour < 20) || (hour >= 5 && hour < 7)) { // Sunset/Sunrise
    opacity = 0.4;
  } else {                              // Day
    opacity = 0;
  }
  
  const starsOverlay = document.getElementById('starsOverlay');
  if (starsOverlay) {
    Array.from(starsOverlay.children).forEach(s => {
      s.style.opacity = opacity;
    });
  }
}

// --- Gradient Transition & Star Update ---
function updateTimeState(){
  const newState = getState(time);
  if(currentState !== newState){
    const container = document.querySelector(".container");
    const fromColors = currentState ? currentState.colors : newState.colors;
    const toColors = newState.colors;
    let start = null;
    const duration = 1000;
    const fromFont = currentState ? currentState.font : newState.font;
    const toFont = newState.font;

    function animate(timestamp){
      if(!start) start=timestamp;
      const t=Math.min((timestamp-start)/duration,1);
      const c0 = lerpColor(fromColors[0],toColors[0],t);
      const c1 = lerpColor(fromColors[1],toColors[1],t);
      const c2 = lerpColor(fromColors[2],toColors[2],t);

      container.style.background=`linear-gradient(to bottom, ${c0}, ${c1}, ${c2})`;
      document.body.style.color = toFont;
      if(t<1) requestAnimationFrame(animate);
    }
    requestAnimationFrame(animate);
    currentState = newState;
  }

  // --- Update stars ---
  updateStarOpacityByTime(time);
}

// --- Initialize ---
updateUI();
</script>

<!-- Fully Functional Modular Star System -->
<div id="starsOverlay"></div>
<script>
(function(){
  const style = document.createElement('style');
  style.innerHTML = `
    #starsOverlay {
      position: fixed;
      top:0; left:0;
      width:100%;
      height:100%;
      pointer-events:none;
      z-index:5;
    }
    .star {
      position:absolute;
      border-radius:50%;
      background:white;
      opacity:0;
      pointer-events:none;
      transition: opacity 1s linear;
    }
  `;
  document.head.appendChild(style);

  const container = document.getElementById('starsOverlay');
  const STAR_COUNT = 250;
  const stars = [];

  for(let i=0;i<STAR_COUNT;i++){
    const star = document.createElement('div');
    star.className = 'star';
    const size = Math.random()*2+1;
    star.style.width = size+'px';
    star.style.height = size+'px';
    star.style.left = Math.random()*100+'%';
    star.style.top = Math.random()*100+'%';
    container.appendChild(star);
    stars.push({el: star, twinkleOffset: Math.random()*Math.PI*2});
  }

  function animate(){
    const t = performance.now()/1000;
    stars.forEach(s=>{
      const flicker = Math.sin(t*2 + s.twinkleOffset)*0.3 + 0.7;
      s.el.style.opacity = flicker * parseFloat(s.el.style.opacity || 1);
    });
    requestAnimationFrame(animate);
  }

  animate();
})();
</script>

</body>
</html>
