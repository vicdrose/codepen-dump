<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>360° Astrology Life Map</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: radial-gradient(circle at center, #0a0a2e 0%, #16213e 50%, #0f3460 100%);
            font-family: 'Arial', sans-serif;
            color: white;
            overflow-x: auto;
            min-height: 100vh;
        }
        
        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 90vh;
        }
        
        #astroChart {
            border-radius: 50%;
            box-shadow: 0 0 50px rgba(138, 43, 226, 0.3);
            background: radial-gradient(circle at center, rgba(25, 25, 112, 0.1) 0%, rgba(72, 61, 139, 0.05) 100%);
        }
        
        .zodiac-segment {
            stroke: rgba(255, 215, 0, 0.4);
            stroke-width: 1;
            fill: none;
        }
        
        .zodiac-label {
            fill: #ffd700;
            font-size: 14px;
            font-weight: bold;
            text-anchor: middle;
            dominant-baseline: central;
        }
        
        .van-node {
            fill: #ff6b35;
            stroke: #ff4500;
            stroke-width: 3;
            filter: drop-shadow(0 0 10px rgba(255, 107, 53, 0.8));
        }
        
        .activity-node {
            stroke-width: 2;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .activity-node:hover {
            stroke-width: 3;
            filter: drop-shadow(0 0 15px currentColor);
            transform: scale(1.1);
        }
        
        .planet-node {
            stroke-width: 2;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .planet-node:hover {
            stroke-width: 3;
            filter: drop-shadow(0 0 20px currentColor);
            transform: scale(1.2);
        }
        
        .connection-line {
            stroke-width: 1.5;
            opacity: 0.6;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .connection-line:hover {
            stroke-width: 3;
            opacity: 1;
        }
        
        .node-label {
            fill: white;
            font-size: 10px;
            text-anchor: middle;
            dominant-baseline: central;
            pointer-events: none;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
        }
        
        .planet-label {
            fill: #ffd700;
            font-size: 9px;
            text-anchor: middle;
            dominant-baseline: central;
            pointer-events: none;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
        }
        
        .tooltip {
            position: absolute;
            background: rgba(0, 0, 50, 0.95);
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 12px;
            pointer-events: none;
            border: 1px solid #ffd700;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .title {
            text-align: center;
            margin-bottom: 20px;
            font-size: 28px;
            background: linear-gradient(45deg, #ffd700, #ff6b35, #8a2be2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
        }
        
        .legend {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 50, 0.8);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #ffd700;
            font-size: 12px;
            max-width: 200px;
        }
        
        .legend h3 {
            margin: 0 0 10px 0;
            color: #ffd700;
        }
    </style>
</head>
<body>
    <h1 class="title">360° Astrology Life Map</h1>
    
    <div class="legend">
        <h3>ROI Influence</h3>
        <div>Closer to center = Higher ROI</div>
        <div style="margin-top: 10px;">
            <span style="color: #ff6b35;">●</span> Van (Center)<br>
            <span style="color: #4CAF50;">●</span> High ROI Activities<br>
            <span style="color: #2196F3;">●</span> Medium ROI<br>
            <span style="color: #9C27B0;">●</span> Lower ROI<br>
            <span style="color: #ffd700;">●</span> Planets
        </div>
    </div>
    
    <div class="container">
        <svg id="astroChart" width="800" height="800" viewBox="0 0 800 800">
            <!-- Background circles for reference -->
            <circle cx="400" cy="400" r="350" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
            <circle cx="400" cy="400" r="280" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
            <circle cx="400" cy="400" r="200" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
            <circle cx="400" cy="400" r="120" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
        </svg>
    </div>
    
    <div class="tooltip" id="tooltip"></div>
    
    <script>
        const svg = document.getElementById('astroChart');
        const tooltip = document.getElementById('tooltip');
        const centerX = 400, centerY = 400;
        
        // Zodiac signs starting with Leo on the far left (180°), going counterclockwise
        const zodiacSigns = [
            'Leo', 'Cancer', 'Gemini', 'Taurus', 'Aries', 'Pisces',
            'Aquarius', 'Capricorn', 'Sagittarius', 'Scorpio', 'Libra', 'Virgo'
        ];
        
        // Activity data with planetary connections
        const activities = [
            { name: 'Van Maintenance', planets: ['Mars in Virgo', 'Saturn in Aquarius'], roi: 9, color: '#ff6b35' },
            { name: 'WeWork', planets: ['Mercury in Leo', 'Uranus in Capricorn'], roi: 7, color: '#4CAF50' },
            { name: 'Tech Job', planets: ['Mercury in Leo', 'Vesta in Gemini'], roi: 8, color: '#4CAF50' },
            { name: 'Library', planets: ['Mercury in Leo', 'Vesta in Gemini'], roi: 6, color: '#2196F3' },
            { name: 'Gym', planets: ['Mars in Virgo', 'Saturn in Aquarius'], roi: 7, color: '#4CAF50' },
            { name: 'Coffeeshop', planets: ['Venus in Virgo', 'Venus in Aquarius'], roi: 5, color: '#2196F3' },
            { name: 'DoorDash', planets: ['Mars in Virgo', 'Mercury in Leo'], roi: 6, color: '#2196F3' },
            { name: 'Uber/Airport', planets: ['Mars in Virgo', 'Mercury in Leo'], roi: 7, color: '#4CAF50' },
            { name: 'Storage Unit', planets: ['Saturn in Aquarius', 'Vesta in Gemini'], roi: 4, color: '#9C27B0' },
            { name: 'Airbnb', planets: ['Moon in Sagittarius', 'Chiron in Cancer'], roi: 3, color: '#9C27B0' },
            { name: 'Music/DJ', planets: ['Neptune in Capricorn', 'Venus in Aquarius'], roi: 5, color: '#2196F3' },
            { name: 'AI/GitHub', planets: ['Mercury in Leo', 'Uranus in Capricorn'], roi: 8, color: '#4CAF50' }
        ];
        
        // Calculate planet frequencies and ROI
        const planetFreq = {};
        activities.forEach(activity => {
            activity.planets.forEach(planet => {
                planetFreq[planet] = (planetFreq[planet] || 0) + 1;
            });
        });
        
        // Create planet objects with positions
        const planets = Object.keys(planetFreq).map(planet => {
            const freq = planetFreq[planet];
            const roi = freq * 2; // Higher frequency = higher ROI
            return { name: planet, frequency: freq, roi: roi };
        });
        
        // Draw zodiac circle segments
        function drawZodiacWheel() {
            const radius = 350;
            
            for (let i = 0; i < 12; i++) {
                const angle1 = (i * 30) + 90; // Start from Leo at 180° (left)
                const angle2 = angle1 + 30;
                
                const x1 = centerX + radius * Math.cos(angle1 * Math.PI / 180);
                const y1 = centerY + radius * Math.sin(angle1 * Math.PI / 180);
                const x2 = centerX + radius * Math.cos(angle2 * Math.PI / 180);
                const y2 = centerY + radius * Math.sin(angle2 * Math.PI / 180);
                
                // Draw segment line
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('x1', centerX);
                line.setAttribute('y1', centerY);
                line.setAttribute('x2', x1);
                line.setAttribute('y2', y1);
                line.setAttribute('class', 'zodiac-segment');
                svg.appendChild(line);
                
                // Add zodiac sign label
                const labelAngle = angle1 + 15;
                const labelRadius = 320;
                const labelX = centerX + labelRadius * Math.cos(labelAngle * Math.PI / 180);
                const labelY = centerY + labelRadius * Math.sin(labelAngle * Math.PI / 180);
                
                const label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                label.setAttribute('x', labelX);
                label.setAttribute('y', labelY);
                label.setAttribute('class', 'zodiac-label');
                label.textContent = zodiacSigns[i];
                svg.appendChild(label);
            }
        }
        
        // Position planets around the zodiac based on their signs
        function getZodiacPosition(planetName) {
            const signMap = {
                'Mars in Virgo': { sign: 'Virgo', offset: 0 },
                'Saturn in Aquarius': { sign: 'Aquarius', offset: 0 },
                'Mercury in Leo': { sign: 'Leo', offset: 0 },
                'Uranus in Capricorn': { sign: 'Capricorn', offset: 0 },
                'Vesta in Gemini': { sign: 'Gemini', offset: 0 },
                'Venus in Virgo': { sign: 'Virgo', offset: 10 },
                'Venus in Aquarius': { sign: 'Aquarius', offset: 10 },
                'Moon in Sagittarius': { sign: 'Sagittarius', offset: 0 },
                'Chiron in Cancer': { sign: 'Cancer', offset: 0 },
                'Neptune in Capricorn': { sign: 'Capricorn', offset: 10 }
            };
            
            const planetInfo = signMap[planetName];
            if (!planetInfo) return { angle: 0, radius: 300 };
            
            const signIndex = zodiacSigns.indexOf(planetInfo.sign);
            const baseAngle = (signIndex * 30) + 105 + planetInfo.offset; // Start from Leo position
            
            return { angle: baseAngle, radius: 300 };
        }
        
        // Draw planet nodes
        function drawPlanets() {
            planets.forEach((planet, index) => {
                const pos = getZodiacPosition(planet.name);
                const x = centerX + pos.radius * Math.cos(pos.angle * Math.PI / 180);
                const y = centerY + pos.radius * Math.sin(pos.angle * Math.PI / 180);
                
                // Planet node
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('cx', x);
                circle.setAttribute('cy', y);
                circle.setAttribute('r', 6 + planet.frequency);
                circle.setAttribute('fill', '#ffd700');
                circle.setAttribute('stroke', '#ffdf00');
                circle.setAttribute('class', 'planet-node');
                circle.setAttribute('data-planet', planet.name);
                
                // Add hover events
                circle.addEventListener('mouseenter', (e) => showTooltip(e, `${planet.name}\nFrequency: ${planet.frequency}\nROI Level: ${planet.roi}`));
                circle.addEventListener('mouseleave', hideTooltip);
                
                svg.appendChild(circle);
                
                // Planet label
                const label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                label.setAttribute('x', x);
                label.setAttribute('y', y + 20);
                label.setAttribute('class', 'planet-label');
                label.textContent = planet.name.split(' ')[0]; // Just planet name
                svg.appendChild(label);
            });
        }
        
        // Draw activity nodes
        function drawActivities() {
            activities.forEach((activity, index) => {
                // Position based on ROI (closer to center = higher ROI)
                const distance = 250 - (activity.roi * 20); // Higher ROI = smaller distance
                const angle = (index * 360 / activities.length) + 45;
                const x = centerX + distance * Math.cos(angle * Math.PI / 180);
                const y = centerY + distance * Math.sin(angle * Math.PI / 180);
                
                // Activity node
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('cx', x);
                circle.setAttribute('cy', y);
                circle.setAttribute('r', 8);
                circle.setAttribute('fill', activity.color);
                circle.setAttribute('stroke', activity.color);
                circle.setAttribute('class', 'activity-node');
                circle.setAttribute('data-activity', activity.name);
                
                // Add hover events
                circle.addEventListener('mouseenter', (e) => showTooltip(e, `${activity.name}\nROI: ${activity.roi}/10\nPlanets: ${activity.planets.join(', ')}`));
                circle.addEventListener('mouseleave', hideTooltip);
                
                svg.appendChild(circle);
                
                // Activity label
                const label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                label.setAttribute('x', x);
                label.setAttribute('y', y - 15);
                label.setAttribute('class', 'node-label');
                label.textContent = activity.name.split(' ')[0]; // First word only
                svg.appendChild(label);
                
                // Draw connections to planets
                activity.planets.forEach(planetName => {
                    const planetPos = getZodiacPosition(planetName);
                    const planetX = centerX + planetPos.radius * Math.cos(planetPos.angle * Math.PI / 180);
                    const planetY = centerY + planetPos.radius * Math.sin(planetPos.angle * Math.PI / 180);
                    
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line.setAttribute('x1', x);
                    line.setAttribute('y1', y);
                    line.setAttribute('x2', planetX);
                    line.setAttribute('y2', planetY);
                    line.setAttribute('stroke', activity.color);
                    line.setAttribute('class', 'connection-line');
                    line.setAttribute('data-connection', `${activity.name} → ${planetName}`);
                    
                    // Add hover events to lines
                    line.addEventListener('mouseenter', (e) => showTooltip(e, `${activity.name} ↔ ${planetName}`));
                    line.addEventListener('mouseleave', hideTooltip);
                    
                    svg.appendChild(line);
                });
                
                // Draw connection to van (center)
                const vanLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                vanLine.setAttribute('x1', x);
                vanLine.setAttribute('y1', y);
                vanLine.setAttribute('x2', centerX);
                vanLine.setAttribute('y2', centerY);
                vanLine.setAttribute('stroke', 'rgba(255, 107, 53, 0.4)');
                vanLine.setAttribute('stroke-width', '1');
                vanLine.setAttribute('class', 'connection-line');
                svg.appendChild(vanLine);
            });
        }
        
        // Draw van in center
        function drawVan() {
            const van = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
            van.setAttribute('cx', centerX);
            van.setAttribute('cy', centerY);
            van.setAttribute('r', 15);
            van.setAttribute('class', 'van-node');
            van.addEventListener('mouseenter', (e) => showTooltip(e, 'Van - Central Hub\nAll activities connect here'));
            van.addEventListener('mouseleave', hideTooltip);
            svg.appendChild(van);
            
            // Van label
            const label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            label.setAttribute('x', centerX);
            label.setAttribute('y', centerY + 5);
            label.setAttribute('class', 'node-label');
            label.setAttribute('style', 'font-size: 12px; font-weight: bold;');
            label.textContent = 'VAN';
            svg.appendChild(label);
        }
        
        // Tooltip functions
        function showTooltip(event, text) {
            tooltip.style.opacity = '1';
            tooltip.innerHTML = text.replace(/\n/g, '<br>');
            
            const rect = svg.getBoundingClientRect();
            tooltip.style.left = (event.clientX + 10) + 'px';
            tooltip.style.top = (event.clientY - 10) + 'px';
        }
        
        function hideTooltip() {
            tooltip.style.opacity = '0';
        }
        
        // Initialize visualization
        drawZodiacWheel();
        drawPlanets();
        drawActivities();
        drawVan();
        
        // Add smooth animations on load
        setTimeout(() => {
            svg.style.opacity = '1';
            svg.style.transform = 'scale(1)';
            svg.style.transition = 'all 1s ease-in-out';
        }, 100);
    </script>
</body>
</html>
